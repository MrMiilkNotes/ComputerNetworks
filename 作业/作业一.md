# 第一章

## 1-10 

### 题目

​	试在下列条件下比较电路交换和分组交换。要传送的报文共x(bit)。从源点到终点共经过k段链路，每段链路的传播时延为d(s)，数据率为b(b/s)。在电路交换时电路的建立时间为s(s)。在分组交换时分组长度为p(bit)，且各结点的排队等待时间可忽略不计。问在怎样的条件下，分组交换的时延比电路交换的要小?

### 解答

​	由总时延的计算方式，有：
$$
总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延
$$
其中排队时延=0，将电路交换中的电路建立时间归为处理时延，有：

| 类型     | 电路交换 |     分组交换      |
| -------- | :------: | :---------------: |
| 发送时延 |  *x/b*   | *(p/b)×(x/p+k-1)* |
| 传播时延 |  *d×k*   |       *d×k*       |
| 处理时延 |   *s*    |                   |

<img src="作业一.assets/1568769546070-1569064752856.png" alt="1568769546070" style="zoom:50%;" />

所以
$$
T_{电路交换}=\frac{x}{b}+d*k+s \\
T_{分组交换}=\frac{p}{b}*(\frac{x}{p}+k-1)+d*k
$$

要求，分组交换的时延比电路交换的要小，则需要
$$
\frac{p}{b}*(k-1) < s
$$
即，在链路数目确定的情况下，增加带宽(提高数据率)或者减少分组长度，但过细的分组会带来更多的处理时延，这部分在题目中没有体现出来

## 1-15

### 题目

​	假定网络利用率达到了90%。试估计一下现在的网络时延是它的最小值的多少倍

### 解答

$$
\begin{split}
由&:D=\frac{D_0}{1-U}, 其中:\\
D_0 &: 网络空闲时的时延\\
D &: 网络当前时延\\
U &=0.9
\end{split}
$$

所以，现在的网络时延是它的最小值的10倍

## 1-17

### 题目

​	收发两端之间的传输距离为1000km，信号在媒体上的传播速率为2×10^8^m/s。试计算以下两种情况的发送时延和传播时延

-  数据长度为10^7^bit,数据发送速率为100kb/s
-   数据长度为10^3^bit,数据发送速率为1Gb/s

### 解答

​	传输时延是一样的都为$\frac{10^6}{2*10^8}=0.005s$，第一种情况，发送时延为100s，第二种情况，发送时延为$10^{-6}s$。可以看出对于数据量较小，数据发送速率高的网络，传输时延在网络延迟中占了较大部分，但即使对于1000km的距离，传输时延依旧很小。

## 1-27

### 题目

​	试解释everything over IP和IP over everything的含义

### 解答

<img src="作业一.assets/1569067307931.png" alt="1569067307931" style="zoom:67%;" />

IP作为唯一的中间人，对上面的应用级别业务来说，IP如同最底层的接口(Adaptor)，即everything over IP，而对于底层的部分，IP可以用在各式各样的网络中,以太网，卫星网....，即IP over everything。

## 1-28

### 题目

​	上传1.5MB的文件，设分组长度1KB，RTT=80ms。TCP建立时间为2RTT。在不同情况下计算接受完整文件需要的时间。

解答

​	10Mbit/s=1.25×10^3^B/s，每个1KB分组的发送时延为$\frac{2^{10}}{1.25×10^3}=8.192×10^{-4}s=0.8192ms$，一共有3×2^9^=1536个分组。传播时延为RTT/2=40ms。

#### 1. 发送速率10Mbit/s，可以分组连续发送

​	由于可以连续发送，所以，总时间：
$$
\begin{split}
T&=2*RTT+0.8192×1536+\frac{RTT}{2}\\ 
 &=1458.2912ms
\end{split}
$$

#### 2. 发送速率10Mbit/s，发送完一个分组要等待一个RTT

​	![1569069699841](作业一.assets/1569069699841.png)

​	如图所示，除了最后一个分组，其他都需要在发送后跟着一个RTT，所以，总时间：
$$
\begin{split}
T&=2*RTT + (0.8192+RTT)*1535+0.8192+\frac{RTT}{2}\\ 
 &=124258.291ms
\end{split}
$$

#### 3. 不考虑数据发送时间，但是每个RTT只能发送最多20个分组

​	前76个RTT时间发送了1520个分组，最后16个分组发送后只需要RTT/2即可接收到所有分组，所以，总时间：
$$
\begin{split}
T&=2*RTT + 76*RTT+\frac{RTT}{2}\\ 
 &=6280ms
\end{split}
$$

#### 4.不考虑数据发送时间，每个RTT时间内分别可发送1，2，4，8...个分组

1+2+4+...+512(2^9^)=1023<1536<1+2+4+...+1024(2^10^)=2047，所以需要11个RTT时间发送，同样，类似上一种情况，最后一个分组发送到接受只需要RTT/2，所以，总时间：
$$
T=2*RTT + 10*RTT+\frac{RTT}{2}=1000ms
$$

